<div>
    <mat-card>
        <form [formGroup]="userForm" (ngSubmit)="save()" novalidate>
            <mat-card-header><h2>Absence Form</h2></mat-card-header>
            <mat-card-content>
                <table class="full-width">
                    <tr>
                        <td>
                            <mat-form-field>
                                <input matInput placeholder="User id" readonly formControlName="userId">
                            </mat-form-field>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <mat-form-field>
                                <input matInput placeholder="First name" formControlName="firstName">
                            </mat-form-field>

                            <mat-form-field>
                                <input matInput placeholder="Last name" formControlName="lastName">
                            </mat-form-field>

                            <mat-checkbox formControlName="isEnabled">Enabled?</mat-checkbox>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <mat-form-field>
                                <input readonly matInput placeholder="Start Date" [matDatepicker]="startDatePicker"
                                       [max]="rangeForm.get('rangeDateEnd').value"
                                       [matDatepickerFilter]="dateFilter" formControlName="rangeDateStart" required>
                                <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                                <mat-datepicker #startDatePicker></mat-datepicker>
                                <mat-error
                                        *ngIf="rangeForm.get('rangeDateStart').hasError('required') && rangeForm.get('rangeDateStart').touched">
                                    Start Date is required
                                </mat-error>
                                <mat-error
                                        *ngIf="rangeForm.get('rangeDateStart').hasError('notAvailable') && rangeForm.get('rangeDateStart').touched">
                                    Start Date is not valid
                                </mat-error>
                                <mat-error
                                        *ngIf="rangeForm.get('rangeDateStart').hasError('max') && rangeForm.get('rangeDateStart').touched">
                                    Start Date should be less than End Date
                                </mat-error>
                            </mat-form-field>

                            <mat-form-field>
                                <input readonly matInput placeholder="End Date" [matDatepicker]="endDatePicker"
                                       [min]="rangeForm.get('rangeDateStart').value"
                                       [matDatepickerFilter]="dateFilter" formControlName="rangeDateEnd" required>
                                <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
                                <mat-datepicker #endDatePicker [startAt]="dateStartBoundary"></mat-datepicker>
                                <mat-error
                                        *ngIf="rangeForm.get('rangeDateEnd').hasError('required') && rangeForm.get('rangeDateEnd').touched">
                                    End Date is required
                                </mat-error>
                                <mat-error
                                        *ngIf="rangeForm.get('rangeDateEnd').hasError('notAvailable') && rangeForm.get('rangeDateEnd').touched">
                                    End Date is not valid
                                </mat-error>
                                <mat-error
                                        *ngIf="rangeForm.get('rangeDateEnd').hasError('min') && rangeForm.get('rangeDateEnd').touched">
                                    End Date should be more than Start Date
                                </mat-error>
                            </mat-form-field>
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <mat-form-field>
                                <mat-select placeholder="Reason" formControlName="rangeReason" required>
                                    <mat-option></mat-option>
                                    <mat-option *ngFor="let reason of filteredReasons" [value]="reason.id">
                                        {{reason.reasonName}}
                                    </mat-option>
                                </mat-select>
                                <mat-error
                                        *ngIf="rangeForm.get('rangeReason').hasError('required') && rangeForm.get('rangeReason').touched">
                                    Reason is required
                                </mat-error>
                            </mat-form-field>
                        </td>
                    </tr>
                </table>
            </mat-card-content>
            <mat-card-actions>
                <a mat-button (click)="returnBack()">Back</a>
                <button mat-raised-button color="primary" type="submit">Save</button>
            </mat-card-actions>
        </form>
    </mat-card>
</div>